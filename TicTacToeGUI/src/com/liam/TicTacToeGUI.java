packagecom.liam;importjava.awt.*;importjavax.swing.BorderFactory;importjava.awt.event.ActionEvent;importjavax.swing.*;publicclassTicTacToeGUIextendsJFrame{publicfinalBoardGameBoard=newBoard();publicfinalJPanelButtonPanel=newJPanel();enumGAME_STATE{O_PLAYING,X_PLAYING,GAME_FINISHED}publicGAME_STATEState=GAME_STATE.O_PLAYING;TicTacToeGUI(){super("Tic-Tac-Toe");InitUI();}privatevoidInitUI(){getContentPane().setLayout(newBorderLayout());ButtonPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));ButtonPanel.setLayout(newGridLayout(3,3,3,3));for(intn=0;n<9;n++){JButtonButton=newJButton();Button.setPreferredSize(newDimension(100,100));Button.setModel(newCellModel());Button.addActionListener(newCellAction());((CellModel)Button.getModel()).setID(n);((CellModel)Button.getModel()).setGame(this);ButtonPanel.add(Button);}getContentPane().add(ButtonPanel);pack();setVisible(true);setResizable(false);setDefaultCloseOperation(EXIT_ON_CLOSE);}privateclassCellActionextendsAbstractAction{publicCellAction(){super("Cell");}@OverridepublicvoidactionPerformed(ActionEvente){JButtonSource=(JButton)e.getSource();CellModelModel=CellModel.convert(Source);if(Model.isEnabled()){StringCurrentPlayer=(State==GAME_STATE.O_PLAYING)?"O":"X";Source.setText(CurrentPlayer);if(Model.setEnabled((State==GAME_STATE.O_PLAYING)?Board.CELL_STATE.O:Board.CELL_STATE.X)){JOptionPane.showMessageDialog(null,String.format("%swon!",CurrentPlayer));for(ComponentButton:ButtonPanel.getComponents()){if(ButtoninstanceofJButton){((CellModel)((JButton)Button).getModel()).reset();((JButton)Button).setText("");}}}}}}publicstaticvoidmain(String[]args){SwingUtilities.invokeLater(()->{TicTacToeGUIGUI=newTicTacToeGUI();GUI.setVisible(true);});}}
